<app-layout>
  <div header-title>Soporte</div>
  <div header-subtitle>Reporte de averías y problemas</div>

  <div class="driver-container">
    <!-- El Header personalizado se elimina porque usamos el del layout -->

    <div class="chat-container">
      <div class="chat-header">
        <h2>Soporte en Ruta</h2>
        <p>Reporta averías o problemas en tiempo real</p>
      </div>

      <div class="messages-area" #scrollContainer>
        <div *ngFor="let msg of messages" class="message"
          [ngClass]="{'sent': msg.role === 'driver', 'received': msg.role === 'admin'}">
          <div class="message-content">
            <p>{{ msg.text }}</p>
            <span class="time">{{ msg.timestamp | date:'shortTime' }}</span>
          </div>
        </div>
      </div>

      <div class="input-area">
        <input type="text" [(ngModel)]="newMessage" (keyup.enter)="sendMessage()"
          placeholder="Describe el problema aquí...">
        <button class="btn-submit" (click)="sendMessage()" [disabled]="!newMessage.trim()">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>
</app-layout>